var panel={init:function(){this.householdPagIng()},householdPagIng:function(a){$.ajax({type:"POST",url:urlScope+"/Housetype/findAll",dataType:"json",data:{page:a||1,rows:10},success:function(d){if(d.result!="1"){layer.msg("获取数据失败",{icon:1,time:1000});return}var d=d.object;var b="";for(var c=0;c<d.length;c++){b+='<tr class="text-c"><td>'+(c+1)+'</td><td class="houseType"  ondblclick="panel.ShowElement(this,'+d[c].id+')">'+d[c].housetypeName+"</td></tr>"}$("tbody").html(b)},error:function(b){layer.msg("网络错误",{icon:1,time:1000})}})},household_add:function(d,b,a,c){layer_show(d,b,a,c)},ShowElement:function(a,d){var c=a.innerHTML;if(c.indexOf('type="text"')>0){return}var b=document.createElement("input");b.type="text";b.value=c;b.onblur=function(){if(this.value==c){a.innerHTML=c}else{$.ajax({type:"POST",url:urlScope+"/Housetype/updateHousetype",data:{id:d,housetypeName:$(this).val()},dataType:"json",success:function(e){if(e.result=="0"){layer.msg("修改失败",{icon:1,time:1000});return}else{if(e.result=="1"){layer.msg("修改成功",{icon:1,time:1000})}else{layer.msg("修改失败，户型已经存在!",{icon:1,time:1000})}}setTimeout(function(){window.location.reload()},1000)}});a.innerHTML=this.value}};a.innerHTML="";a.appendChild(b);b.setSelectionRange(0,c.length);b.focus()}};$(function(){panel.init()});